{% extends "base.html" %}
{% load crispy_forms_filters %}

{% block content %}
  <h1>Ingredients List</h1>
      <a style="float: right" href="{% url 'restaurant:ingredient-create' %}">Create</a>
  <form action="" method="get" class="form-inline">
    {{ search_form|crispy }}
  <input class="btn btn-secondary" type="submit" value="🔍">

  {% if ingredient_list %}
    <table class="table">
      <thead>
        <tr>
          <th>ID</th>
          <th>Name</th>
          <th>Dishes</th>
          <th>Update</th>
          <th>Delete</th>
        </tr>
      </thead>
      <tbody>
        {% for ingredient in ingredient_list %}
          <tr>
            <td>{{ ingredient.id }}</td>
          <td><a href="{% url 'restaurant:ingredient-detail' pk=ingredient.id %}">{{ ingredient.name }}</a></td>
            <td>
              <ul>
                {% for dish in ingredient.dishes.all %}
                  <li>{{ dish.name }}</li>
                {% endfor %}
              </ul>
            </td>
            <td><a href="{% url 'restaurant:ingredient-update' pk=ingredient.id %}">Update</a></td>
            <td><a href="{% url 'restaurant:ingredient-delete' pk=ingredient.id %}">Delete</a></td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  {% else %}
    <p>There are no Ingredients in the service.</p>
  {% endif %}
{% endblock %}
